{"componentChunkName":"component---src-templates-blog-template-js","path":"/Nestjs/nest02/","result":{"data":{"cur":{"id":"9ecb0875-a346-599b-934e-aa3a020b6fb4","html":"<h2 id=\"controller란\" style=\"position:relative;\"><a href=\"#controller%EB%9E%80\" aria-label=\"controller란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Controller란?</h2>\n<p>컨트롤러는 들어오는 요청을 처리하고 클라이언트에 응답을 반환하는 로직을 뜻한다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 43.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAu0lEQVQoz6WROwrCQBCGcw8vYGFlo6VYelgrC1shStA7iKLRGAJR8tjZnZeEbSRgJPiVM/zMNzOB/kHQ3RZREUEi69AhiUiPMDVwAZjmRV4C8vfJ8oGqcoMQ0TlOTnFyvN7L2niddhhJsmcZp3n2qpAZEY0BVb3Et+FkPp4tBqPpcrX2Ou0wi4BDYx049JO9AVgb7qJof9iE20ea+vrvnaXRIWK2rHkJlSPpe21mqcAWlSlqQOIe4e4/vwF/lgvBHltP7wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"controller\" title=\"controller\" src=\"/static/70a1fa8772f7a0ea8f562dfcc6ed263b/37523/controller.png\" srcset=\"/static/70a1fa8772f7a0ea8f562dfcc6ed263b/e9ff0/controller.png 180w,\n/static/70a1fa8772f7a0ea8f562dfcc6ed263b/f21e7/controller.png 360w,\n/static/70a1fa8772f7a0ea8f562dfcc6ed263b/37523/controller.png 720w,\n/static/70a1fa8772f7a0ea8f562dfcc6ed263b/587b0/controller.png 970w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>컨트롤러는 <code class=\"language-text\">@Controller</code> 데코레이터로 클래스를 데코레이션 하여 정의한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">@<span class=\"token function\">Controller</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/boards'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// /boards의 컨트롤라고 명시해준것</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BoardsController</span> <span class=\"token punctuation\">{</span>\r\n  @<span class=\"token function\">Get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token function\">getBoards</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> string <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'This action return all boards'</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"handler란\" style=\"position:relative;\"><a href=\"#handler%EB%9E%80\" aria-label=\"handler란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Handler란?</h2>\n<p>핸들러는 @Get, @Post, @Delete 등과 같은 데코레이터로 장식 된 컨트롤러 클래스 내의 단순한 메서드를 칭한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">@<span class=\"token function\">Controller</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/boards'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// /boards의 컨트롤라고 명시해준것</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BoardsController</span> <span class=\"token punctuation\">{</span>\r\n  @<span class=\"token function\">Get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ()인자안에 경로를 넣어줄수 있다. EX) @Get(/id)</span>\r\n  <span class=\"token function\">getBoards</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> string <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'This action return all boards'</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"board-controller-생성하기\" style=\"position:relative;\"><a href=\"#board-controller-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\" aria-label=\"board controller 생성하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Board Controller 생성하기</h2>\n<blockquote>\n<p>*부분은 컨트롤러의 이름을 명시해준것\r\n—no-spec는 test파일을 생성하지 않는것을 명시해준것인데, 원래는 생성을해준다.</p>\n</blockquote>\n<p><code class=\"language-text\">nest g controller boards* --no-spec</code></p>\n<p>위의 명령어를 입력하면 자동으로 Board Module에 컨트롤러를 연결시켜준다</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Module <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BoardsController <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./boards.controller'</span><span class=\"token punctuation\">;</span>\r\n\r\n@<span class=\"token function\">Module</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">controllers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>BoardsController<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// *  이부분이 자동으로 써짐</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BoardsModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"cli로-명령어-입력시-순서\" style=\"position:relative;\"><a href=\"#cli%EB%A1%9C-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%9E%85%EB%A0%A5%EC%8B%9C-%EC%88%9C%EC%84%9C\" aria-label=\"cli로 명령어 입력시 순서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CLI로 명령어 입력시 순서</h2>\n<p>즉 CLI로(nest g …) 입력시 다음과 같은 순서로 만들어진다.</p>\n<ol>\n<li>cli는 먼저 boards라는 폴더를 찾는다.</li>\n<li>boards폴더 안에 controller파일을 생성한다.</li>\n<li>boards폴더 안에 modules 파일을 찾는다.</li>\n<li>modules 파일 안에 controller을 등록해준다.</li>\n</ol>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#controller%EB%9E%80\">Controller란?</a></li>\n<li><a href=\"#handler%EB%9E%80\">Handler란?</a></li>\n<li><a href=\"#board-controller-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\">Board Controller 생성하기</a></li>\n<li><a href=\"#cli%EB%A1%9C-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%9E%85%EB%A0%A5%EC%8B%9C-%EC%88%9C%EC%84%9C\">CLI로 명령어 입력시 순서</a></li>\n</ul>\n</div>","excerpt":"Controller란? 컨트롤러는 들어오는 요청을 처리하고 클라이언트에 응답을 반환하는 로직을 뜻한다. 컨트롤러는  데코레이터로 클래스를 데코레이션 하여 정의한다. Handler란? 핸들러는 @Get, @Post, @Delete 등과 같은 데코레이터로 장식 된 컨트롤러 클래스 내의 단순한 메서드를 칭한다. Board Controller 생성하기 *부분은 컨트롤러의 이름을 명시해준것\r\n—no-spec는 test파일을 생성하지 않는것을 명시해준것인데, 원래는 생성을해준다.  위의 명령어를 입력하면 자동으로 Board Module에 컨트롤러를 연결시켜준다 CLI로 명령어 입력시 순서 즉 CLI로(nest g …) 입력시 다음과 같은 순서로 만들어진다. cli는 먼저 boards라는 폴더를 찾는다. boards폴더 안에 controller파일을 생성한다. boards폴더 안에 modules 파일을 찾는다. modules 파일 안에 controller을 등록해준다. Controller란? …","frontmatter":{"date":"February 27, 2024","title":"NestJS Controller","categories":"nest.js","author":"정중식","emoji":"✍"},"fields":{"slug":"/Nestjs/nest02/"}},"next":{"id":"1b137880-6e67-5287-8a4f-e8d879ac2e2f","html":"<h2 id=\"nest란\" style=\"position:relative;\"><a href=\"#nest%EB%9E%80\" aria-label=\"nest란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nest란?</h2>\n<ul>\n<li>\n<p>효율적이고 확장 가능한 Node.js 서버 측 애플리케이션을 구축하기위한 프레임 워크라고한다.</p>\n</li>\n<li>\n<p>자바스크립트를 사용하고, 타입스크립트로 빌드되고 완벽하게 지원하기까지 한다.</p>\n</li>\n<li>\n<p>express를 토대로 만들어졌다.</p>\n</li>\n<li>\n<p>확장성이 좋다.</p>\n</li>\n</ul>\n<h2 id=\"시작\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EC%9E%91\" aria-label=\"시작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시작</h2>\n<p>NestJS를 이용해서 프로젝트를 시작할 때 Nest CLI를 이용하면 간단하게 프로젝트를 시작할 수 있다고한다.</p>\n<p>아래의 명령어를 입력하면,\r\n새 플젝 디렉터리가 생성되고 초기 핵심 Nest 파일 및 지원 모듈로 디렉터리가 채워져 프로젝트의 기본 구조가 생성이된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">npm i <span class=\"token operator\">-</span>g @nestjs<span class=\"token operator\">/</span>cli\r\nnest <span class=\"token keyword\">new</span> <span class=\"token class-name\">project</span><span class=\"token operator\">-</span>name</code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#nest%EB%9E%80\">Nest란?</a></li>\n<li><a href=\"#%EC%8B%9C%EC%9E%91\">시작</a></li>\n</ul>\n</div>","frontmatter":{"date":"February 27, 2024","title":"Nest 첫 시작","categories":"nest.js","author":"정중식","emoji":"✍"},"fields":{"slug":"/Nestjs/nest00/"}},"prev":{"id":"e4b4025c-b121-5156-8123-94b32bb14986","html":"<h2 id=\"providers란\" style=\"position:relative;\"><a href=\"#providers%EB%9E%80\" aria-label=\"providers란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Providers란?</h2>\n<p>프로바이더는 Nest의 기본개념이다.\r\n대부분의 기본 Nest 클래스는 서비스(Service), 레파지토리, 팩토리, 헬퍼등의 프로바이더로 취급될 수 있다.\r\n프로바이더의 주요 아이디어는 <code class=\"language-text\">종속성을 주입</code>할 수 있다는 점이다.\r\n즉 객체는 서로 다양한 관계를 만들 수 있다는 것을 의미한다.\r\n객체의 인스턴스를 연결하는 기능은 대부분 Nest 런타임 시스템에 위임될 수 있다.</p>\n<p>여기까지가 Nest의 공식 문서에 나와있는 내용이다.</p>\n<p>즉,</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 81.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC40lEQVQ4y32Ui2/aVhSH+f/VJFVG0kzTpjy6vAg0gI15gzGvAl1bJWtIsjQlEB4BjLGNoVqkb7rOY9BFs/TpnHvPQ79zrmTPMJNC8a6S2HjD6dEhs3KRSUHDKeYXmM5hVcrYH2s4n/5wmXz8gFmrYBc1PE8FkycK2gIiZmoqRi6LoamMsikm3Q6TqUOv12XQ72NZJt+nDnpBw/OSGmeusfAHaoaxpmLmcxhqmtmwz+zve+76A4a6jjObcX9/j17MPzS0NdVl8midfG6huZ7LLow8ElTK7pjjagWj8p5hqYgtFJpipJsGVquJddPAbrcYfv6Elcu6CXY+xyCbdq04W5rKuH6GLfIb31xsUd+4ZiwaigUbtk2z16PZ7aI7DrfndXqJKHouzVBN0U7GGWaFn6GfSvDdNJkCrbs72oMhI8dBfMMnhePrr4y/XbuYzRtGJ5/dsaelgjvyKJf9dwUFDbP+xVVmXP3lYom6r1cPCsUOLTXzjCnGE/uce2mh7PmRChqjUgGj+h7zQ9VF+Hq5iCUa6tk0ejbzSBpdfbSZ1APZNK14lG4yTi8VpxNXMNq3GJbFbbtNt9dDNwxs26aTSeO5jUb4fxRaisyNItNUZBpSiPbFudusfnbG5cUFzWaTXqfDdTSC5yp4zFXoBYJz/BCrSyHOlQiXMYWLqOL6Z7LEZfAdntPDA072dznZ+/2Z04M9Tn0HiJgb/4E/93f5sr/7bF1f1B0e4Cm/3aYSi1JLJKgm4lSTSUoBP7XtLWpvt//LzhblUJCcJJGXJLRwmFw4RElRKO9s41E3fyOZyXAsywRlmUgqhezzEfP+RPLnDfen8URy4w3xdS9aOo0UT7Dn87F3dEQgFKZUqZD69Rc8yvoait+PEggQCfhRjo+RNjeJeVeJrXuJrc0hzt5Vovu7br5vawv/zg6SEPAugLzmxRNaWSa0/GqRlSXCr5cJvYB7/5gnv15BFnfLS4SWXrmxfwAK9S/zllKEqgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Provider\" title=\"Provider\" src=\"/static/3db8eea35fb40e2c978f86a2a0bb1f41/37523/Provider.png\" srcset=\"/static/3db8eea35fb40e2c978f86a2a0bb1f41/e9ff0/Provider.png 180w,\n/static/3db8eea35fb40e2c978f86a2a0bb1f41/f21e7/Provider.png 360w,\n/static/3db8eea35fb40e2c978f86a2a0bb1f41/37523/Provider.png 720w,\n/static/3db8eea35fb40e2c978f86a2a0bb1f41/65d79/Provider.png 905w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>사진속 컨트롤A안에 모든걸 구현할 수 없으니(코드양이 많아지니깐) 서비스A,서비스B,서비스C로 나누고 컨트롤러 A에 넣는 <code class=\"language-text\">종속석 주입</code>을 사용한다.</p>\n<p>여기선 서비스를 예시로 두었지만, 레포지토리, 팩토리, 헬퍼 등도 취급될 수 있다.</p>\n<h2 id=\"service란\" style=\"position:relative;\"><a href=\"#service%EB%9E%80\" aria-label=\"service란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Service란?</h2>\n<blockquote>\n<p>서비스는 소프트웨어 개발내의 공통 개념이며, NestJS, Javascript에서만 쓰이는 개념이 아님</p>\n</blockquote>\n<p><code class=\"language-text\">@Injectable</code> 데코레이터로 감싸져서 모듈에 제공되며, 이 서비스 인스턴스는 애플리케이션 전체에서 사용 될 수 있다.</p>\n<p>서비스는 컨트롤러에서 데이터의 유효성 체크를 하거나 데이터베이스에 아이템을 생성하는 등의 작업을 하는 부분을 처리한다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 82.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAADPElEQVQ4y3WS+1PiVhiG8//PtOLOrJfa/rCuIALalZvhkhASELmJVxRQFBaMwGKQmzq1fTo5srRjt5l55j3vyZzvvF++SI2Qn0YoQFsOM0kbTNPGXKf/8nNSOuOkylhTGWkKI+1tPTGSTNM6UtG1gf7bGvmNdUYpnel+6u3gTG3/NMdglDtgdHnBU63K81VN6LhaYXBYYJJKIv2RO+A1n8VWUWw/NS9q6zCVxNITWIaGlYhjnRxhP13Lwuz16FmW8I+tlkgu2QfHKV208r5FO9WDnmBgaIzSBiNdE0mmj4/0zTu6rRb9uzbT4ZCHaoWJnkASiTJpwcRmlvB7q5auMRbF08LbF40yaZ4KOZ5njA/2xYWi5UHjlmH/G4POPaOHPla7hWUkRWq7UD+pMrT9LOHoqETfNLm9vOC2cknt9ITeXZvHWpWJriHZ0Zv3HerNJu1uj063S0uJiVb7uoapxuhryptXYzwcl3gBqjc3lK+uKNdqjF9fGX5tiWlLg5Njxlc1xva0ajWss1MmmdlUM2kxjHnLdspshsH5Gd3DAvfFvNBB+QyrkGdiaEhTI8kkmRBxbYT//i+Kb5hgnNbfLrAHmM0wPj/lpVrhpVbhuXLJuHzOYyHPVHxDe3LvSdokGOoa90oUU4nSSyh0YhE6xTzPf/5F0zS5abVodzo8A9/qdSw1hnQfi/BDorIo0NgL0oqEMaMyd3KYr4ZB1zRp1us0rq+F9jodmqUSphxCug36+RE3AT+NoJ/K7g71wO4/+0E/18EAN+HQjKDwdfF+F+ncu8WZxz3n3LPFxbaX8rZX6LG95/OItdj3eSh7t7jwet6YeZvLbQ9STt6jqOsUkxqHuk42GqXoclJyOTnadJL9/Imic4PSppOS8zOFbR9ZRSEly6QjEfRwmANFJRvwc7ixjqQrcSJqgnAkQkRVUVQVeWWJxNoq6toq8dVllF9WxFpZWSK55eagUMSzs4PL58Pt82HkcqJ4em0VSd50EdnZRvZ5he5tuYkuLxFf+S/K8kciv64R//I7QfcmfpeTkHuT+O4X5PVPqMsfkYKOn3lP6IPjf1gktOggsPATIccCocUFgo4F4W0Nf3DwN8g9eLN/vRtFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Service\" title=\"Service\" src=\"/static/26e8a8937a42fed38a8e80d833b7c96a/37523/Service.png\" srcset=\"/static/26e8a8937a42fed38a8e80d833b7c96a/e9ff0/Service.png 180w,\n/static/26e8a8937a42fed38a8e80d833b7c96a/f21e7/Service.png 360w,\n/static/26e8a8937a42fed38a8e80d833b7c96a/37523/Service.png 720w,\n/static/26e8a8937a42fed38a8e80d833b7c96a/59822/Service.png 916w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>사진에서와 같이, 컨트롤 B에서 서비스 A를 사용해줄 수 있는데 이럴때 @Injectable()를 사용해준다.</p>\n<h2 id=\"provider-등록\" style=\"position:relative;\"><a href=\"#provider-%EB%93%B1%EB%A1%9D\" aria-label=\"provider 등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Provider 등록</h2>\n<p>Provider를 사용하기 위해선 Nest에 등록해줘야 사용할 수 있다.\r\n등록하기 위해서 module파일에 providers 항목안에 해당 모듈에서 사용하고자 하는 Provider를 넣어주면 된다.</p>\n<blockquote>\n<p>아래 코드 참고</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Module <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BoardsController <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./boards.controller'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BoardsService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./boards.service'</span><span class=\"token punctuation\">;</span>\r\n\r\n@<span class=\"token function\">Module</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">controllers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>BoardsController<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">providers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>BoardsService<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 이곳에 넣어주면 됨</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BoardsModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"service-만들기\" style=\"position:relative;\"><a href=\"#service-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"service 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Service 만들기</h2>\n<p><code class=\"language-text\">nest g service boards --no-spec</code></p>\n<p>위의 명령어를 터미널에 입력해주면 controller때와 마찬가지로 service.ts파일이 생성되고, module.ts에 자동으로 등록되어있다.</p>\n<blockquote>\n<p>module.ts파일에 자동으로 BoardService가 등록되있는 모습이다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Module <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BoardsController <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./boards.controller'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BoardsService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./boards.service'</span><span class=\"token punctuation\">;</span>\r\n\r\n@<span class=\"token function\">Module</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">controllers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>BoardsController<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">providers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>BoardsService<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BoardsModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Service 컴포넌트는 주로 데이터베이스 관련된 로직을 처리한다.</p>\n<blockquote>\n<p>EX) DB에서 데이터를 가져오거나 DB안에 게시판을 생성할 때 그 생성한 게시판 정보를 넣어주는 등의 로직을 처리함</p>\n</blockquote>\n<br/>\n<h2 id=\"브라우저---컨트롤러---서비스---컨트롤러---브라우저\" style=\"position:relative;\"><a href=\"#%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80---%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC---%EC%84%9C%EB%B9%84%EC%8A%A4---%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC---%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80\" aria-label=\"브라우저   컨트롤러   서비스   컨트롤러   브라우저 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>브라우저 -> 컨트롤러 -> 서비스 -> 컨트롤러 -> 브라우저</h2>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 43.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABN0lEQVQoz42OXYuCYBCF3///W7pOoW76sLrIkEohSk3TsqA0kqiUznKm3ahtYb14mHHm8byjbrcbyrJEURTC/X4X2F8uF+F6vaIoC5Rl8fTYc/7qMEclSYIoirDdbsH+cDggyzJsNhucTifkeY7j8Yg4jsWjwx2/syyVPdnv9zifz1Dz+RzT6RSsrusiDEP5cbFYSHiaptjtduJMJhOZ27YtPYO5J3yAoYoBP6+vViu5gNdyvlwuhSAIxFmv15jNZlLjOEIYBt/7h8e58jwP77hyqe978H3/Cee8cjQayXUPx//leFA8/z8cx8Z4PEa/30er1UKvZ8CyLDiO8+Eq0zRRBYaRTqeDwWAgDIfDD091u11UgZc1Gg3UajXouo52uy3hhmG8earZbKIKmqahXq9LGCv5y/sCxM19CFXf0tMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"  \" title=\"  \" src=\"/static/b712ab1e68682052dbd39d913c0eefc8/37523/%ED%8C%A8%ED%84%B4.png\" srcset=\"/static/b712ab1e68682052dbd39d913c0eefc8/e9ff0/%ED%8C%A8%ED%84%B4.png 180w,\n/static/b712ab1e68682052dbd39d913c0eefc8/f21e7/%ED%8C%A8%ED%84%B4.png 360w,\n/static/b712ab1e68682052dbd39d913c0eefc8/37523/%ED%8C%A8%ED%84%B4.png 720w,\n/static/b712ab1e68682052dbd39d913c0eefc8/fcbaf/%ED%8C%A8%ED%84%B4.png 895w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<ol>\n<li>브라우저에서 요청을 보내면,</li>\n<li>컨트롤러가 그 요청을 받고,</li>\n<li>서비스가 처리를 해준후, 다시 컨트롤러에 리턴값을 보내고</li>\n<li>컨트롤러가 클라이언트에 결과값을 보내준다.</li>\n</ol>\n<ul>\n<li>boards.controller.ts</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Controller<span class=\"token punctuation\">,</span> Get <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BoardsService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./boards.service'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// 1 브라우저에서 /boards 에 요청을 보냄</span>\r\n\r\n<span class=\"token comment\">// 2 컨트롤러가 받음 ('/boards')</span>\r\n@<span class=\"token function\">Controller</span><span class=\"token punctuation\">(</span><span class=\"token string\">'boards'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BoardsController</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// 생성자의 파라미터로 private 서비스컴포넌트 , 를 주면 해당 컴포넌트의 값들을 사용할 수 있음</span>\r\n    <span class=\"token comment\">// 이건 타입스크립트 덕분임</span>\r\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> <span class=\"token literal-property property\">boardService</span><span class=\"token operator\">:</span> BoardsService</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">// 3 get요청을 받음</span>\r\n  @<span class=\"token function\">Get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token function\">getAllBoard</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>boardService<span class=\"token punctuation\">.</span><span class=\"token function\">getAllBoards</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n</code></pre></div>\n<ul>\n<li>boards.Service.ts</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Injectable <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\r\n\r\n@<span class=\"token function\">Injectable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BoardsService</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">private</span> boards <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 다른 컴포넌트에서 boards계열 값을 수정 못하게 private를 사용함</span>\r\n\r\n  <span class=\"token function\">getAllBoards</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>boards<span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#providers%EB%9E%80\">Providers란?</a></li>\n<li><a href=\"#service%EB%9E%80\">Service란?</a></li>\n<li><a href=\"#provider-%EB%93%B1%EB%A1%9D\">Provider 등록</a></li>\n<li><a href=\"#service-%EB%A7%8C%EB%93%A4%EA%B8%B0\">Service 만들기</a></li>\n<li><a href=\"#%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80---%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC---%EC%84%9C%EB%B9%84%EC%8A%A4---%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC---%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80\">브라우저 -> 컨트롤러 -> 서비스 -> 컨트롤러 -> 브라우저</a></li>\n</ul>\n</div>","frontmatter":{"date":"February 27, 2024","title":"NestJS Providers, Service","categories":"nest.js","author":"정중식","emoji":"✍"},"fields":{"slug":"/Nestjs/nest03/"}},"site":{"siteMetadata":{"siteUrl":"https://jungsikjeong.github.io","comments":{"utterances":{"repo":"jungsikjeong/jungsikjeong.github.io"}}}}},"pageContext":{"slug":"/Nestjs/nest02/","nextSlug":"/Nestjs/nest00/","prevSlug":"/Nestjs/nest03/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}